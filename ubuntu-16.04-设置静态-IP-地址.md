目前的实践经验:

* 目前发现由动态 IP 改静态 IP 的时候,需要重新启动linux

静态ip设置过程如下:

```
cd /etc/network/
```

备份原来的配置,

```
mv interfaces interfaces_auto
```

(1) 查看IP,

```
ifconfig -a
eth0      Link encap:Ethernet  HWaddr 00:0c:29:76:60:a1  
          inet addr:192.168.31.100  Bcast:192.168.31.255  Mask:255.255.255.0
          inet6 addr: fe80::20c:29ff:fe76:60a1/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:54780 errors:0 dropped:0 overruns:0 frame:0
          TX packets:8465 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:3548019 (3.5 MB)  TX bytes:626617 (626.6 KB)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:6944 errors:0 dropped:0 overruns:0 frame:0
          TX packets:6944 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1 
          RX bytes:2520780 (2.5 MB)  TX bytes:2520780 (2.5 MB)
```

目前 IP 为 192.168.31.100, 为避免冲突, 将个人的 IP 改到一个靠后的位置, 如 192.168.31.222. 检查下这个IP 地址是否已经被占用.

```
ping 192.168.31.222
PING 192.168.31.222 (192.168.31.222) 56(84) bytes of data.
From 192.168.31.100 icmp_seq=1 Destination Host Unreachable
From 192.168.31.100 icmp_seq=2 Destination Host Unreachable
From 192.168.31.100 icmp_seq=3 Destination Host Unreachable
^C
--- 192.168.31.222 ping statistics ---
6 packets transmitted, 0 received, +3 errors, 100% packet loss, time 5022ms
pipe 3
```

说明该地址没有被占用.

(2) 查看 gateway 信息

```
route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         192.168.31.1    0.0.0.0         UG    0      0        0 eth0
169.254.0.0     0.0.0.0         255.255.0.0     U     1000   0        0 eth0
192.168.31.0    0.0.0.0         255.255.255.0   U     0      0        0 eth0
```

gateway 为 192.168.31.1, 

(3) 查看 域名服务地址,
```
root@:/etc$cat /etc/resolv.conf
# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
nameserver 192.168.31.1
nameserver 114.114.114.114
```

(4) 打开 /etc/network/interfaces 文件,替换为一下内容: 

```
auto lo
iface lo inet loopback
 
# The primary network interface
auto eth0                                                                                                                                         
iface eth0 inet static
address 192.168.31.222
netmask 255.255.255.0
network 10.0.0.0
broadcast 192.168.31.255
gateway  192.168.31.1
dns-nameservers 192.168.31.1  114.114.114.114
```

(5) 重启 unbantu.

(6) 验证是否生效, ping www.baidu.com

参考: 
http://www.bkjia.com/article/26864.html
